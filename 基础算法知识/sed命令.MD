# sed
## 什么是sed
1. linux sed命令是利用脚本来处理文本文件。全称： Stream EDitor.属于非交互式的流编辑器。
2. sed可依照脚本的指令来处理、逐行编辑文本文件。
### sed主要处理工程
1. sed首先把当前正在处理的行保存在一个临时缓存区中(也称模式空间)，然后处理临时缓冲区中的行。完成后把该行发送到屏幕上。sed每处理完一行就将其从临时缓冲区删除。然后将下一行读入。进行处理和显示。直到最后一行处理完。sed结束运行。因为sed都是对存入缓冲区的副本进行编辑，所以默认不会修改原文件。
### sed语法
1. sed [options] 'command' file(s)
2. sed [options] -f scriptfile file(s)
### sed命令
1. -e  直接在命令行模式进行sed编辑（默认选项）
2. -f  将sed的动作写在一个文件内，用-f filename 执行filename内的sed动作。
3. -i  直接修改文件内容
4. -n  只打印模式匹配的行
5. -r  支持扩展正则表达式
6. -h  显示帮助
7. -v --version 显示版本信息。
### sed常用命令
a\	在当前行下面插入文本
i\	在当前行上面插入文本
c\	把选定的行改为新的文本
d	删除，删除选择的行
D	删除模板块的第一行
s	替换指定字符
h	拷贝模板块的内容到内存中的缓冲区
H	追加模板块的内容到内存中的缓冲区
g	获得内存缓冲区的内容，并替代当前模板块中的文本
G	获得内存缓冲区的内容，并追加到当前模板块文本的后面
l	列表不能打印字符的清单
n	读取下一个输入行，用下一个命令处理新的行而不是用第一个命令
N	追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码
p	打印模板块的行
P	打印模板块的第一行
q	退出Sed
b	lable 分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾
r	file 从file中读行
t	label if分支，从最后一行开始，条件一旦满足或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾
T	label 错误分支，从最后一行开始，一旦发生错误或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾
w	file 写并追加模板块到file末尾
W	file 写并追加模板块的第一行到file末尾
!	表示后面的命令对所有没有被选定的行发生作用
=	打印当前行号
#把注释扩展到下一个换行符以前
### sed替换命令
s 替换脚本命令。
n	1~512 之间的数字，表示指定要替换的字符串出现第几次时才进行替换，例如，一行中有 3 个 A，但用户只想替换第二个 A，这时就用到这个标记
g	行内全局替换，如果没有 g，则只会在第一次匹配成功时做替换操作。例如，一行数据中有 3 个 A，则只会替换第一个 A
p	会打印与替换命令中指定的模式匹配的行。此标记通常与 -n 选项一起使用
w	将缓冲区中的内容写到指定的 file 文件中
x	互换模板块中的文本和缓冲区中的文本
y	把一个字符翻译为另外的字符（但是不用于正则表达式）
\n	匹配第n个子串，该子串之前在pattern中用 () 指定
&	已匹配字符串标记，用正则表达式匹配的内容进行替换
\	转义（转义替换部分包含：&、\ 等）
### sed元字符集
1. 与grep一样，sed也支持特殊元字符。进行模式查找，替换。不同的是。sed正则表达式是括在/之间的模式。如：sed -n '\o^myop' datafile
2. ^	行首定位符	/^my/ 匹配所有以my开头的
$	行尾定位符	/my$/ 匹配所有以my结尾的行
.	匹配除换行符外的单个字符	/m…y/ 匹配包含字母m，后跟两个任意字符，再跟字母y的行
*	匹配零个或多个前导字符	/my*/ 匹配包含字母m,后跟零个或多个y字母的行
[]	匹配指定字符组内的任一字符	/[Mm]y/ 匹配包含My或my的行
[^]	匹配不在指定字符组内的任一字符	/[^A-RT-Z]ed/ 匹配非A-R和T-Z开头，紧跟ed的行
……	保存已匹配的字符	s/I\(love\)\(you\)/\2\1me Iloveyou -> youloveme
&	保存查找串以便在替换串中引用	s/love/**&**/，love -> **love**
\<	词首定位符	/\<my/ 匹配包含以my开头的单词的行
\>	词尾定位符	/my\>/ 匹配包含以my结尾的单词的行
x\{m\}	重复字符x，m次	/0\{5\}/匹配包含5个0的行
x\{m,\}	重复字符x，至少m次	/0\{5,\}/匹配至少有5个0的行
x\{m,n\}	重复字符x，至少m次，不多于n次	/0\{5,10\}/匹配5~10个0的行
### sed定址
1. sed定址用于决定对哪些行进行处理，地址的形式可以是数字、正则、或二者结合。如果无指定。sed将处理输入文件的所有行。
2. 地址如果是一个数字，则表示某一行号；"$"符号表示最后一行。地址如果由逗号分隔，则表示处理两行之间的范围(包括这两行在内)
### seq命令
1. seq命令可以输出连续的数字。或者输出固定间隔的数字。或者输出指定格式的数字。
2. seq -s 指定输出分割符 默认为\n，即默认回车换行。
3. seq -w 指定为定宽输出，不能和-f一起用。
4. seq -f 按照指定的格式输出，不能和-w一起使用。